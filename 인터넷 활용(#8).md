# 1. 네트워크 개념

## 통신망 종류

통신망을 지역적 범위에 따라 LAN(Local Area Network), MAN(Metropolitan Area Network), WAN(Wide Area Network)으로 구분

---

## LAN

빌딩 내 혹은 근접한 거리의 빌딩들로 제한된 지역에 설치된 정보 기기들 사이의 고속 통신을 제공

- Ethernet / IEEE 802.3 LAN
  - 1980년 DEC, Intel, Xerox 회사에 의해 DIX ethernet 표준 발표
  - 매체 접근 제어 기술 CSMA/CD 사용
- Token Ring / IEEE 802.5 LAN
  - 1980년 초반 IBM사에 의해 개발한 LAN 기술
  - 데이터는 한 쪽 방향으로 흐르도록 하여 한 컴퓨터에서 다음 컴퓨터 순으로 순서대로 전달
  - 통신 회선의 길이 제한이 없으며 확장성이 용이하지 않음
  - 매채 접근 제어 기술 Token passing 사용
- FDD LAN
  - 1987sus ANSI X3T9.5 표준위원회에 의해 발표
  - LAN상의 고속스테이션을 연결 또는 백본망 연결 시 사용
  - 이중 링 구조 : 데이터 전송 링과 백업용 링
  - 매체 접근 제어 기술 Token Passing 사용

---

## MAN

- LAN보다는 큰 규모를 가지지만 WAN보다는 지리적으로 작은 규모에서 컴퓨터 자원들과 호스트들을 연결하는 도시권 통신망이다

- 같은 도시나 지역 사회와 같이 지리적으로 같은 위치에 존재하는 여러 개의 랜을 연결

- 몇몇 근거리 통신망을 연결하여 백본라인 형성

- 고가의 라우터나 광전송 장비 없이도 저렴하게 인터넷 서비스를 이용할 수 있는 장점

- 전송 매체로는 광섬유 또는 동축 케이블이 사용되며, 45Mbps, 100Mbps의 속도를 제공
- DQDB(Distributed Queue Dual Bus)는 MAN에서 사용되는 IEEE 802.6 규격인 QPSX(Queued Packet Synchronous Exchange)의 제어접속에 사용
  - DQDB의 토폴로지는 이중 버스 토폴로지를 사용한다
  - 각 버스는 단방향이며 버스의 머리 부분에는 53바이트의 슬롯 생성기가 있다
  - 회선 교환과 패킷 교환이 모두 가능하며, 데이터, 음성 및 비디오 등의 전송을 지원

---

## WAN

- 국가, 대륙 등과 같이 넓은 지역을 연결하는 네트워크
- 거리의 제한은 없으나 속도가 느리고 전송 에러율도 높다
- 전용회선 & 회선교환망
  - HDLC 프로토콜
    - Serial Interface의 기본 Encapsulation type
    - <span style = "color:tomato">동기종 </span>간 Synchronous Serial 연결 시 사용
    - 3계층 Protocol이 일치해야 함
  - PPP 프로토콜
    - Async, Sync Interface에서 모두 사용 가능
    - <span style = "color:tomato">이기종</span> 간 연결 시 사용
    - Multi Protocol 지원 NCP
    - 다양한 옵션 제공 LCP
    - 인증, 압축, Call Back, Error Detect, Multilink
- 패킷교환망
  - X.25 프로토콜
    - ITU-T의 표준화 통신 규약
    - 패킷망에서 DCE(회선 종단장치)와 DTE(데이터 단말장치) 사이에 이루어진 상호 작용을 위한 프로토콜
    - 가변 길이 프레임 전송을 지원하는 프레임릴레이의 근간을 이룸
  - Frame-relay 프로토콜
    - 안정적인 Data망 구축 이후 개발
    - 속도에 초점을 둠
    - Frame 단위 전송이므로 실시간 Data 전송이 어려움
  - ATM
    - Frame을 Cell 단위로 쪼개어 전송
    - 53Bytes : 48bytes(Data) + 5bytes(헤더 정보)
    - 실시간 데이터 전송 용이

---

## SAN

- 스토리지를 위해 고안된 스토리지 전용 고속 네트워크
- 파이버 채널을 이용하여 구성되는 저장장치 네트워크
- 호스트 컴퓨터의 종류에 구애받지 않고 별도의 연결된 저장장치 사이에 대용량의 데이터를 전송시킬 수 있는 고속 네트워크
- 서버가 클라이언트로부터 받은 파일 I/O 요청을 직접 블록 I/O로 전환하여 SAN에 연결된 스토리지로 전송

---

## LAN 토폴로지

- 성형
  - 중앙 컴퓨터에 여러 대의 컴퓨터가 허브 또는 스위치와 같은 장비로 연결
  - 중앙 집중식 형태로 네트워크 확장이 용이
  - 고속의 대규모 네트워크에 적합
  - 관리하는 중앙 컴퓨터 고장 시 전체 네트워크 사용 불가
- 망형
  - 모든 노드가 서로 일대일로 연결된 형태
  - 대량의 데이터를 송수신할 경우 적합
  - 장애 발생 시 다른 시스템에 영향이 적고 우회할 수 있는 경로가 존재하여 가장 신뢰성이 높은 방식
  - 회선 구축 비용이 많이 듦(노드 수가 N개인 경우 회선수는 N(N-1)/2개)
- 버스형
  - 하나의 통신회선에 여러 컴퓨터를 연결해서 전송
  - 연결된 컴퓨터 수에 따라 네트워크 성능이 변동
  - 단말기 추가 및 제거가 용이하므로 설치 비용이 저렴
  - 노드 수 증가 시 트래픽 증가로 병목현상 발생, 네트워크 성능 저하 초래
  - 문제가 발생한 노드의 위치를 파악하기 어려움
- 링형
  - 각 노드가 좌우의 인접한 노드와 연결되어 원형을 이룬 형태
  - 앞의 컴퓨터로부터 수신한 내용을 다음 컴퓨터로 재전송하는 방법
  - 토큰패싱이라는 방법을 통해 데이터 전송
  - 고속 네트워크로 자주 네트워크 환경이 바뀌지 않는 경우 구성
  - 분산 제어와 검사 및 회복이 가능
  - 네트워크의 전송상 충돌이 없고 노드 숫자가 증가하더라도 망 성능의 저하가 적음
  - 논리적인 순환형 토폴로지로 하나의 노드장애가 전체 토폴로지에 영향
  - 노드의 추가 및 삭제가 용이하지 않음
- 트리형
  - 버스형과 성형 토폴로지의 확장 형태
  - 백본과 같은 공통 배선에 적절한 분기 장치를 사용하여 링크를 덧붙여 나갈 수 있는 구조
  - 트래픽 양 증가 시 병목 현상의 가능성 증대

---

## 매체 접근 제어 방식

여러 단말들이 공유 매체 사용에 대한 단말 간 충돌/경합 발생을 제어하는 것

- CSMA/CD(Carrier Sense Multiple Access/Collision Detection)
  - 단말기가 전송로의 신호 유무를 조사하고 다른 단말기가 신호를 송출하는지 확인
  - 운영 방식
    - 1단계 : 전송을 원하는 호스트는 네트워크 캐리어를 감지해 전송이 가능한지 검사
    - 2단계 : 호스트는 전송이 가능할 경우 전송을 시작
    - 3단계 : 충돌이 감지될 경우 잼 신호를 브로드캐스트
    - 4단계 : Back-off 알고리즘에 따라 랜덤한 시간이 지난 후에 다시 전송 시도
- 토큰 패싱(Token Passing)
  - Token의 흐름에 의해 전송 순서가 결정
  - Token passing은 free token과 busy token을 이용하여 매체 접근을 제어
    - Free token : 회선에 어떠한 데이터를 전송하지 않는 것을 나타내는 제어신호
    - Busy token : 특정 컴퓨터에 의해 데이터가 전송되어 회선을 사용할 수 없는 상태 제어신호
  - 운영 방식
    - 1단계 : 송신자는 제어신호가 free token인지 busy token인지를 확인
    - 2단계 : Free token인 경우 송신자는 free token을 busy token으로 변환하고 데이터를 전송
    - 3단계 : 송신자는 데이터 전송이 완료되면 busy token을 free token으로 전환 후 데이터 전송 완료

---

## 케이블

보호 외피나 외장 안에 두 개 이상의 전선이나 광섬유로 묶여 있는 것

TP(twisted pair) 케이블, 동축 케이블, 광섬유 케이블 등을 사용

- TP 케이블은 전기적 간섭을 줄이기 위해 여러 꼬임선을들 절연체로 피복하여 구성한 케이블
- TP 케이블은 UTP와 STP 케이블이 있다

|              |           UTP(Unshielded TP            |          STP(Shielded TP          |
| :----------: | :------------------------------------: | :-------------------------------: |
|  피복 여부   | 꼬임선들이 절연체로 피복되어 있지 않음 | 꼬임선들이 절연체로 피복되어 있음 |
|  전송 길이   |                  100M                  |               100M                |
|  전송 속도   |              10 ~ 100Mbps              |           최대 155Mbps            |
| 설치 및 유지 |        설치가 쉽고 취급이 용이         |    설치가 UTP보다 조금 어려움     |
|  외부 간섭   |           전기적 간섭에 약함           |         전기적 간섭 없음          |
|  설치 비용   |               매우 저렴                |               저렴                |
|     용도     |                 이더넷                 |       Token-ring, Appletalk       |

이더넷 케이블의 특징을 전송매체와 전송거리를 기반으로 나타낸 것이다

Ex) 100 BASE FX

- 100 : 속도
- BASE : 채널
- FX : 케이블 타입

SX는 단파장(Shortwave), LX/LH(Longwave/long)은 장파장, FX는 광전송

|             |                  케이블 타입                   |                          전송 거리                          |
| :---------: | :--------------------------------------------: | :---------------------------------------------------------: |
|  100BaseTX  |              EIA/TIA CAT5, 2Pair               |                            100m                             |
|  100BaseFx  |            62.5/125 멀티모드 광섬유            |                            400m                             |
| 1000Base-CX |                      STP                       |                             25m                             |
| 1000Base-T  |            EIA/TIA CAT5, UTP 4Pair             |                            100m                             |
| 1000Base-SX |            62.5/50 멀티모드 광섬유             |        62.5 멀티모드 - 275m <br> 50 멀티모드 - 550m         |
| 1000Base-LX | 62.5/50 멀티모드 광섬유 <br> 9 싱글모드 광섬유 | 62.5 멀티모드 - 440m <br> 50 멀티모드 <br> 9 싱글모드 - 5km |

---

## 리피터

신호의 재생 및 증폭기능을 수행하여 물리적인 거리를 확장

---

## 허브

신호를 노드에 전달해 주는 장비

네트워크 확장, 다른 허브와의 상호 연결, 신호의 증폭 등의 기능 제공

- 더미허브 : 각 노드들을 집중화하는 장비
- 인텔리전트허브 : 허브 내에 자체 중앙 처리 장치 및 소량의 버퍼를 보유하고, SNMP를 이용한 관리 기능 가능
- 스팩커블허브 : 허브의 백본-버스를 상호 연결할 수 있도록 별도의 트렁크 포트를 구비한 허브
- 이더넷허브 : 10Mbps 인터페이스 포트를 구비한 허브
- 패스트이더넷허브 : 100Mbps 인터페이스 포트를 구비한 허브
- 토큰링허브 : 16Mbps 인터페이스 포트를 구비한 허브

---

## LAN 카드

- 네트워크에 접속할 수 있도록 컴퓨터 내에 설치되는 확장 카드
- 전기신호로부터 데이터를 송신하고 변환하며, 데이터를 전기신호로 변환하여 송신
- MAC 주소를 이용하여 데이터의 수신 여부를 판별

---

## 브릿지(bridge)

- 모든 수신 프레임을 일단 버퍼에 저장하고, 주소에 따라 목적지 포트로 프레임을 전달하는 장비
- 큰 네트워크를 단일 네트워크상의 트래픽 감소 등과 같은 작고 관리하기 쉬운 Segment로 나눌 필요가 있을 때 사용
- 전기적으로 신호의 재생 및 패킷의 송수신 어드레스를 분석하여 패킷의 통과
  여부를 판정하는 필터링을 작용

---

## 스위치(switch)

- 브릿지와 비슷한 기능을 갖는 장비
- 소프트웨어 기반인 처리 방식으로 브릿지보다 빠르게 데이터를 전송
- 맥 주소 테이블을 기반으로 프레임 전송
- 스위칭 허브는 전용매ㅐ체교환 기술을 이용하여 트래픽 병목 현상을 제거하고, 포트별로 속도가 전용으로 보장

---

## 라우터

- OSI 모델의 물리 계층, 데이터링크 계층, 네트워크 계층의 기능을 지원하는 장치
- 서로 다른 통신망과 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 함
- LAN을 연결시켜주는 망 연동 장치로서 통신망에서 정보를 전송하기 위해 경로를 설정하는 역할을 제공하는 핵심적인 통신장비
- 전용회선으로 LAN에 연결된 컴퓨터들이 동시에 인터넷을 사용할 수 있게 해줌
- 목적지로 향하는 최적의 경로 설정 데이터를 목적지까지 전달하는 기능을 수행

---

## 게이트웨이

- 서로 다른 형태의 네트워크를 상호 접속하는 장치
- 서로 다른 통신망이나 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 장비를 통칭
- 데이터 포캣 등 두 개의 시스템 사이에서 중계자 역할을 수행

---

## UTP 케이블링

- 다이렉트 케이블
  - 양쪽을 EIA/TIA 568-B 표준 연결
  - 이기종 간의 장비를 연결할 때 사용
  - 컴퓨터 - 허브/스위치 또는 라우터 - 허브/스위치
  - (흰)주주(흰)초파(흰)파초(흰)갈갈
- 크로스오버 케이블
  - 한쪽은 EIA/TIA 568-B, 다른 한쪽은 568-A 연결
  - 같은 기종의 장비를 연결할 때 사용
  - 컴퓨터 - 컴퓨터 또는 스위치 - 스위치 <span style = "color : tomato">(컴퓨터 - 라우터)예외</span>
  - 568-B : (흰)주주(흰)초파(흰)파초(흰)갈갈
  - 568-A : (흰)초초(흰)주파(흰)파주(흰)갈갈

---

## OSI 7 모델과 TCP/IP 모델

- ISO는 서로 다른 시스템 간의 통신을 허용하기 위해 호환성 있는 네트워크 프로토콜 개발 지침서인 OSI 모델을 정의
- OSI 참조 모델은 네트워크가 제공하는 기능을 7개의 계층으로 나누었으며, 각 계층의 기능과 프로토콜을 정의
- 7 계층은 고유한 기능을 가지며 계층 간에 상호 의존적
- TCP/IP는 다양한 프로토콜의 집합체로 가장 신뢰성 있는 통신 규약으로 다양한 운영체제에서 제공

---

## OSI 7 모델

- 7 - 응용계층 : 사용자에게 다양한 네트워크 서비스를 제공하기 위해 UI를 제공, UI로 데이터를 생성
- 6 - 표현 계층 : 부호화, 압축, 암호화
- 5 - 세션 계층 : 종단 간 애플리케이션들의 연결 설정, 유지, 해제
- 4 - 전송 계층 : 종단 간 연결, 응용 계층 사이에 논리적인 통로 제공
- 3 - 네트워크 계층 : 논리적인 주소를 사용, 경로 관리, 최적 경로 결정
- 2 - 데이터링크 계층
  - 데이터 전송을 위한 형식 결정
  - 데이터 전송을 위하여 Media에 접근하는 방법 제공
  - 오류 검출 기능 제공
- 1 - 물리 계층 : 물리적인 연결, 전기적, 기계적, 기능적 절차적인 수단 제공

---

## TCP/IP 모델

- OSI 7, 6, 5 == 응용 계층
- OSI 4 == 전송 계층
- OSI 3 == 인터넷 계층
- OSI 2, 1 == 네트워크 액세스 계층

---

## 계층별 프로토콜

프로토콜은 특정 통신 기능을 수행하기 위한 규약이다

이것은 두 노드 사이의 정보 교환 시 발생하는 통신상의 에러를 피하기 위하여 합리적인 통제를 한다

- 구성요소
  - 형식 : 데이터 포맷, 부호화 및 신호 레벨 등
  - 의미
    - 특정 패턴을 어떻게 해석하고, 어떤 동작을 할 것인가 결정
    - 전송의 조정 및 오류 처리를 위한 제어 정보 등
  - 순서 : 속도 일치 및 순서 제어 등

---

## 인터넷/네트워크 계층 프로토콜

- IP
  - 송수신 호스트가 패킷 교환 네트워크에서 정보를 주고받는 데 사용하는 규약
  - TCP에 의해 패킷으로 변환된 데이터를 데이터 링크에 전달
  - 비신뢰성, 비연결형 서비스 지원, 호스트의 논리 주소 지정
  - MTU(최대 전송 단위)를 초과하는 데이터에 대해 단편화 및 재조립 수행
- ICMP
  - Internet Control Message Protocol
  - 송신 시스템에게 IP 전달에 대한 다양한 메시지를 전달하기 위한 프로토콜
  - 망 내 교환 장비들이 오류 상황에 대한 보고를 할 수 있께 하고, 예상하지 못한 상황이 발생할 경우 이를 알릴 수 있도록 지원
  - 오류 보고 메시지와 질의 메시지로 구분
    - 오류 보고 메시지는 IP 패킷 처리 도중 발생한 문제를 보고
    - 질의 메시지는 다른 호스트로부터 특정 정보를 획득하거나 네트워크 문제를 진단
  - 호스트 사이의 연결 신뢰성을 테스트하기 위해 반향과 회답 메시지를 지원
- IGMP
  - Internet Group Message Protocol
  - 로컬 네트워크상의 멀티캐스팅, 그룹 제어 수행
  - 라우터 및 호스트들이 어떤 멀티캐스트 그룹에 속하는지를 알리기 위한 그룹 관리용
  - 비대칭 프로토콜이며 TTL이 제공
  - 최초의 리포트를 잃어버리면 갱신하지 않고 그대로 처리
- ARP
  - IP -> MAC
  - Address Resolution Protocol
  - IP 주소를 물리적 하드웨어 주소로 대응시키기 위해 사용하는 프로토콜
  - IP 주소를 기반으로 네트워크 인터페이스 카드의 하드웨어 주소를 변환
  - ARP 요청은 브로드캐스트로 동작, ARP 응답은 유니캐스트로 동작
- RARP
  - MAC -> IP
  - Reserve Address Resolution Protocol
  - 네트워크 인터페이스의 하드웨어 주소를 기반으로 IP 주소를 반환
  - ARP와 유사한 패킷 구조

---

## TCP(Transmisson Control Protocol)

- 근거리 통신망이나 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간에 처리과정을 순차적이면서, 안정적으로 오류 없이 교환할 수 있게 하는 프로토콜
- 연결 지향 프로토콜로 전송 전에 송수신지 사이에 연결이 설정되어 있어야 한다
- 신뢰할 수 있는 방법으로 데이터를 송신해야 하는 업무에 적합
- 전송속도는 빠르지만 UDP 만큼은 아니다
- TCP 계열 프로토콜로는 FTP, Telnet, SMTP, DNS, HTTP, POP 등이 있다
- TCP는 연결성정, 데이터전송, 연결해제 상태를 거친다
- 연결설정은 3-Way Handshaking 과정을 거치며, 연결해제는 4-Way Handshaking 과정을 거친다
- 3-Way Handshaking
  - TCP 클라이언트와 서버 간에 신뢰성 있는 데이터를 전송하기 위해 데이터를 전송하기 전 통신을 개시할 것을 상호 확인하는 과정
  - 패킷 교환 순서는 SYN -> ACK/SYN -> ACK
  - Listen : 서버에서 클라이언트로부터 들어오는 패킷을 위해 소캣을 열고 기다리는 상태
  - SYN_SENT : 로컬에서 원격으로 연결 요청(SYN 신호를 보냄)을 시도한 상태
  - SYN_RECEIVED : 서버 시스템이 원격 클라이언트로부터 접속을 요구 받아 클라이언트에게 응답했지만, 아직 클라이언트에게 확인 메시지를 받지 않은 상태
  - ESTABLISHED : 클라이언트로부터 관련 요청을 받아 3-Way Handshaking이 완료된 후 서버와 클라이언트가 서로 연결된 상태
- 4-Way Handshaking
  - TCP 클라이언트와 서버 사이에 모든 데이터 전송이 완료되고 난 후 세션을 종료하는 과정
  - FIN_WAIT1 : 소캣이 닫히고 연결이 종료되고 있는 상태로 원격의 응답은 받을 수 있음
  - FIN-WAIT-2 : 로컬이 원격으로부터 연결 요구를 기다리는 상태
  - Time-Wait : 연결은 종료되었으나 원격의 수신 보장을 위해 기다리고 있는 상태
  - Last-Ack : 연결이 종료되었고 승인을 기다리는 상태
  - Closed : 완전히 연결이 종료된 상태

---

## UDP(User Datagram Protocol)

- IP를 사용하는 네트워크 내에서 컴퓨터들 간에 메시지들이 교환될 떄 제한된 서비스만을 제공하는 통신 프로토콜
- 비연결 지향, 송수신자 사이에 연결설정 없이 데이터 송신이 가능
- 비신뢰성, 수신측의 승인 없이도 연속된 데이터 전송이 가능
- 매우 빠른 전송 속도를 가짐
- 데이터의 안정성보다 전달 속도가 중요하고, 소량의 데이터를 송신
- 멀티캐스트/브로드캐스트를 사용하는 업무에 적합
- 멀티미디어 애플리케이션, DNS, BOOTP, DHCP, TFTP, SNMP 등이 UDP 계열의 프로토콜

---

## 응용 계층 프로토콜

- SMTP
  - Simple Mail Transfer Protocol
  - 전자우편을 송신할 떄 사용하는 프로토콜
  - 포트 번호 : 25
- POP
  - Post Office Protocol
  - 전자우펼을 수신, 보관하기 위해 사용되는 메일 서버 프로토콜
  - 사용자는 주기적으로 서버에 있는 자신의 메일 수신함을 점검하고, 수신된 메일이 있으면 클라이언트 쪽으로 다운로드시킴
  - 포트 번호 : 110
- Telnet
  - CUI 기반의 원격지 컴퓨터 접속 지원 인터넷 표준 프로토콜
  - 호스트에 접속하기 위해서는 도메인명, 주소 또는 IP 정보가 필요
  - 특정 호스트를 사용할 수 있는 사용자 IP와 암호를 알아야 함
  - 포트 번호 : 23
- SSH
  - Telnet의 보안 기능을 강화
  - 초기 유닉스 계열 명령어에 보안 기능을 보완하여 원격지에 있는 호스트를 보다 안전하게 접속할 수 있도록 한 응용 계층 프로토콜
  - 전송되는 데이터들이 암호화하여 전송
  - 포트 번호 : 22
- FTP
  - 대량의 데이터를 고속으로 전송하는 서버/클라이언트 프로토콜
  - 접속에는 계정 접속과 익명 FTP 계정 접속이 있음
  - 포트 번호 : 20, 21
- HTTP
  - WWW를 이용 시 서버와 클라이언트 간의 정보교환 담당
  - 하이퍼텍스트 전송 담당
  - 포트 번호 : 80
- SNMP
  - Simple Network Management Protocol
  - 네트워크 장비들을 관리 감시하여 특정 망의 상태 파악
  - 원격 관리에 필요한 정보 및 장비와 서버 상태를 관리
  - 포트 번호 : 161, 162
- TFTP
  - FTP보다 단순화된 파일 전송 프로토콜
  - UDP 기반으로 데이터 전송 과정에서 데이터가 손실될 가능성이 있음
  - 포트 번호 : 69
- DHCP
  - Dynamic Host Configuration Protocol
  - 유동 주소 체계를 사용하는 호스트들에게 통신에 필요한 환경설정
  - 정보(IP 주소, 게이트웨이 주소, DNS 주소 등)를 할당
  - 포트 번호 : 67, 68

---

## IPv4 주소체계

- 4개의 옥텟으로 구성된다
- 각 옥텟은 8비트이므로 총 32비트이다
- IP 주소는 5개의 클래스 A, B, C, D, E로 구분
- 클래스 E는 240~255 사이의 대역에 있으며 IP 주소 부족을 위해 예약해 놓은 것
- IP 주소는 네트워크 ID(네트워크 주소)와 호스트 ID(네트워크 내 호스트 주소)로 구성
- 서브넷 마스크는 네트워크 부분과 호스트 부분을 구분해 주는 값
- 특수 네트워크 주소

  - Network 주소
    - 호스트 ID의 주소가 모두 0인 주소
    - 네트워크를 대표하는 값
  - Direct Broadcast 주소
    - 호스트 ID의 주소가 모두 1인 주소
    - 특정 망 내부에 있는 모든 호스트들에게 패킷이 전달
  - Limited Broadcast
    - 255.255.255.255
    - DHCP 클라이언트가 DHCP 서버를 찾을 경우 사용
  - Loopback 주소
    - 127.0.0.0 ~ 127.255.255.255
    - Network 부분의 값이 Class A에 속한 127
    - 호스트 부분의 값은 지정되지 않은 값
    - 패킷 송수신 과정에 대한 시스템 내부 시험 시 주로 사용
  - 0.0.0.0
    - 부팅 시 자신의 IP를 모를 경우 사용
  - 사설 IP 주소
    - 공식적인 승인 없이 사용할 수 있는 주소
    - 라우팅이 불가능한 주소로 인터넷상에서 사용할 수 없음

---

## 서브넷팅

- 서브넷은 특정 네트워크를 여러 개의 네트워크로 분리하여 브로드캐스트 도메인을 나누는 것
- IP 주소의 부족 현상을 해소하기 위한 방안
- 서브넷팅은 디폴트 서브넷 마스크를 기준으로 해서 네트워크 ID 비트수를 늘리고 호스트 IP 비트수를 줄이는 것이다. 이때 기준에서 늘어난 네트워크 IP 비트는 서브넷 ID라 부른다

---

## IPv6 주소체계

|                |                      IPv4                      |                                       IPv6                                        |
| :------------: | :--------------------------------------------: | :-------------------------------------------------------------------------------: |
| IP 주소 비트수 |                     32비트                     |                                      128비트                                      |
|  IP 주소 방식  | 지정 주소 방식<br>(일반주소, 브로드캐스트주소) |      자동 설정 주소 방식<br>(유니캐스트주소, 멀티캐스트주소, 애니캐스트주소)      |
|  IP 헤더 길이  |             20바이트에서 60바이트              |                             40바이트와 확장필드 이용                              |
|      기능      |           IP 헤더를 이용한 기본 기능           | 확장필드를 이용한 다양한 기능<br>암호 및 인증 기능 <br>QoS 관련 기능<br>보안 기능 |

- IPv6 주소 표기 시 고려해야 할 항목
  - 128비트이며, ':'으로 구분된 16진수 8자리로 표현
  - 대소문자는 구별하지 않음
  - IPv4처럼 소수점으로 표현되는 서브넷 마스크 양식을 사용하지 않음
  - 주소 표현에서 prefix 길이만 표시
  - IPv6 prefix 표현 = IPv6 / prefix 길이
  - Unspecified 주소는 '0:0:0:0:0:0:0:0' 또는 '::'로 IPv4의 0.0.0.0과 동일한 의미
  - Loopback 주소는 '0:0:0:0:0:0:0:1' 또는 '::1'
    로 IPv4의 127.0.0.1과 같다

---

# 2. 인터넷 서비스의 종류

## WWW 서비스

- 프로토콜 HTTP를 기반으로 한 멀티미디어와 하이퍼텍스트를 통합한 정보 검색 시스템
- 인터넷에 연결된 전 세계 컴퓨터의 모든 문서들을 언제 어디서든 다양한 컴퓨터 환경에서 검색이 가능하게 해줌
- 다양한 GUI를 사용하는 것이 가능
- 1989년 CERN에서 하이퍼텍스트가 시작되었으며, 1990년 WWW라는 넥스트 플랫폼용 브라우저가 공개
- WWW 서비스는 분산 클라이언트-서버 모델을 기반으로 한다
- 표준 웹 프로토콜(HTTP, XML, SOAP, WSDL, UDDI)을 기본으로 하여 서로 다른 개발 환경과 운영체제에서도 상호 통신이 가능
- 다양한 웹 브라우저가 존재
- 고퍼 서비스
  - 미국의 미네소타 대학에서 개발된 정보 검색 서비스
  - 서버의 주소를 모르더라도 메뉴 방식의 인터페이스를 이용하여 쉽게 찾을 수 있음
  - 터미널 환경을 기반으로 대량의 정보 검색 및 저장을 위해 사용

---

## 메일 서비스

- 전자 메일 시스템은 컴퓨터 사용자끼리 편지를 주고받는 서비스이며 MTA, MUA, MDA로 구성
  - MTA(Mail Transfer Agent) : 자신에 등록되어 있는 메일 서버에 SMTP를 사용하여 메일 전달
  - MUA(Mail User Agent) : 메일을 작성하고 읽는 사용자 인터페이스
  - MDA(Mail Delivery Agent) : 메일 서버에서 수신된 메일을 분류하여 해당 수신자의 메일박스에 메일 전달
- 메일 클라이언트에서 송신은 SMTP, 수신은 POP3 또는 IMAP4를 이용
- 메일을 보내거나 메일 서버 간의 메시지 교환은 SMTP 프로토콜을 사용하고, 메일 서버에 도착한 메일을 사용자 컴퓨터에서 확인할 때에는 POP3와 IMAP를 사용
- MIME(Multipurpose Internet Mail Extension)은 멀티미디어 전자우편을 위한 표준으로, 멀티미디어 데이터를 ASCII 형식으로 변환할 필요 없이 인터넷 전자 우편으로 송신하기 위한 SMTP의 확장 규격이다

---

## FTP 서비스

- TCP/IP에 의해 제공되는 호스트 간의 파일 복사를 위한 프로토콜
- FTP의 통신 모드는 패시브 모드와 액티브 모드로 구분
  - 패시브 모드 : FTP 서버가 지정해 준 포트로 클라이언트는 트래픽을 송신
  - 액티브 모드 : 클라이언트가 요청한 포트로 FTP 서버는 트래픽을 송신
- FTP는 20번(일반 데이터 전송용)과 21번(제어 데이터 전송용) 포트 번호를 사용
- FTP 관련 명령어
  - open : 호스트 이름이나 IP 주소를 사용하여 접속
  - close : 현재 접속 중인 연결을 끊고 FTP 명령어 모드로 돌아감
  - ascii : ASCII 형태로 파일을 송수신
  - binary : Binary 형태로 파일을 송수신
  - (m)get : FTP 서버로부터 파일을 전송받음
  - (m)put : 자신의 시스템에 있는 파일을 FTP 서버로 전송
  - hash : 파일 전송 상태를 # 문자를 통해서 확인
  - delete : FTP 서버의 파일을 삭제

---

## DNS 서비스

- 호스트 이름을 기반으로 IP 주소로 변환하거나 IP 주소를 기반으로 호스트 이름을 변환시켜 주는 프로토콜
- DNS에서는 도메인명을 분산된 트리 형태의 계층적 구조로 관리
- 최상위 도메인
  - org : 비영리기관
  - net : 네트워크기관
  - com : 영리를 목적으로 하는 기관
  - edu : 교육기관
  - gov : 정부기관
  - mil : 군사기관
  - int : 국제 조약 등으로 만들어진 국제기관
  - kr, jp, fr : 국가기관
- DNS 설정 정보나 질의응답을 점검하기 위한 명령어로 nslookup과 dig가 있다

---

## Telnet과 SSH 서비스

- 네트워크상에 있는 다른 컴퓨터에 로그인하거나 원격 시스템에서 명령 실행, 파일 복사 등을 제공하는 서비스
- Telnet과 SSH는 사용자가 서버에 접속하여 서버 관리, 파일 편집 등을 Text 모드 환경에서 시스템 명령을 실행하고 결과를 화면을 통해 볼 수 있다
- Telnet은 서버와 주고받는 정보를 <span style = "color:tomato">Byte 스트림 형식</span>으로 전송하고, SSH는 <span style = "color:tomato">DES, RSA 등의 암호화 기법</span>을 사용해서 전송
- Telnet보다 SSH가 안전한 데이터 전송을 보장
- SSH는 암호화뿐만 아니라 압축 기술도 제공. 암호화를 통해서 늘어난 데이터의 크기를 압축하여 사용자와 서버가 송수신하는 것을 가능하게 한다
- 형식 : telnet [hostname]
  - -d : 디버깅을 작동
  - -a : 자동 로그인을 시도
  - -l user : 자동 로그인을 위해 사용자 이름을 원격 시스템으로 전송
  - port
    - 원격 시스템에 연결될 포트 번호를 지정
    - 해당 서비스 활성화 여부 확인 가능
    - 이 인수는 다른 네트워크 프로그램을 지정하는 데 사용됨
- 명령어 telnet을 이용하여 특정 인터넷 서비스의 활성화 상태를 확인할 수 있다
- 명령어 형식은 'telnet 서버 IP 주소 포트번호' 또는 'telnet 도메인명 포트번호'이다
- 웹 서비스 활성화 여부는 포트번호 80번으로 지정
- 형식 : ssh [옵션][서버ip주소][도메인명] 또는 ssh [계정자명@서버IP주소]
  - -a : 인증 에이전트의 전송을 불가능하게 한다
  - -c
    - 세션을 암호화하는 데 사용할 암호 해독기를 선택
    - idea가 기본값이고, arcfour가 가장 빠르며, none은 rlogin이나 rsh를 사용하는 것과 같다
  - -p : 원격 호스트에 있는 연결할 포트를 설정해 준다
  - -l : 원격 시스템에 사용할 로그인 이름을 설정

---

## NFS(Network File System)

- 네트워크 기반에 다른 시스템과 파일 시스템을 공유하기 위한 클라이언트/서버 프로그램
- 썬 마이크로시스템즈 사에서 개발
- 원격지에 있는 리눅스 서버의 특정 디렉터리를 로컬 시스템의 하위 디렉터리처럼 사용할 수 있다
- 다른 컴퓨터의 파일 시스템을 마운트하고 공유하여 자신의 디렉터리인 것처럼 사용할 수 있게 해줌
- NFS는 portmap이 먼저 수행되어 있어야만 서비스가 실행. Portmap은 NIS, NFS 등 RPC(Remote Procedure Call) 연결에 관여하는 데몬
- NFS 서버 : nfsd. rpc.mountd, rpc.statd, rpc.lockd 데몬이 작업
- NFS 클라이언트 : rpc.statd, rpc.rockd, rpc.rquotad 데몬이 작업

---

## RPC(Remote Procedure Call)

- 동적으로 서비스와 포트를 연결할 때 사용하는 방법
- 기본적으로 포트와 서비스가 정적으로 구성될 때는 /etc/services 파일을 참조하지만 동적으로 포트를 할당받아 사용할 때는 RPC인 rpcbind를 사용
- RPC의 운영과정
  - 동적으로 포트를 할당받기 위한 원격 서비스는 rpcbind(port# 111)를 접속
  - 접속 후 서비스를 위해 포트번호를 할당받도록 요구
  - rpcbind는 현재 시스템에서 사용되지 않고 있는 포트번호를 RPC를 이용하여 요청한 시스템에 전달하고, 그 포트번호를 자신이 동작하는 시스템의 해당 서비스에 할당
  - 할당받은 포트를 사용하여 다시 패킷을 수신할 시스템에 서비스를 요청
  - 서비스 요청을 받은 시스템은 포트번호에 해당하는 서비스를 처리할 프로그램에 패킷을 전달

---

# 3. 인터넷 서비스의 설정

## 네트워크 인터페이스 설정

- 리눅스는 다양한 네트워크 인터페이스를 지원한다

| 인터페이스명 |                      설명                       |
| :----------: | :---------------------------------------------: |
|      lo      |                루프백 인터페이스                |
|     eth      | 이더넷 인터페이스, 인터페이스 번호는 0부터 시작 |
|     ppp      |                 PPP 인터페이스                  |
|      dl      |  D-Link_DE-600 포켓 어댑터 시리즈의 인터페이스  |
|     plip     |              병렬 라인 인터페이스               |
|      sl      |                 SLIP 인터페이스                 |

- 일반적으로 네트워크 인터페이스는 자동을 인식되지만 자동으로 인식되지 않을 경우 수동으로 설정해야 한다
- 네트워크 인터페이스 수동 설정 방법은 컴파일된 인터페이스 모듈을 커널에 적재하는 것이다
- 수동 모듈 적재 방법
  - 모듈 적재 관련 명령어
    - /sbin/lsmod : 현재 적재되어 있는 모듈들의 정보 확인
    - /sbin/insmod : 적재하고자 하는 모듈을 삽입
    - /sbin/rmmod : 현재 적재되어 있는 모든 모듈을 제거
    - /sbin/modprobe : 모듈의 적재 및 제거
- 자동 모듈 적재 방법
  - 부팅 시 자동으로 적재할 정보가 담긴 파일의 정보를 읽어오게 함
  - 자동 적재 모듈 파일명 : /etc/modprobe.conf

---

## 네트워크 설정 파일

네트워크 설정 파일은 배포판별로 다를 수 있으나 일반적으로 /etc/sysconfig/network와 /etc/sysconfig/network-scripts/ifcfg-ethX이다

---

## /etc/sysconfig/network

- 네트워크의 기본 정보가 설정되어 있는 파일
- 시스템 전체의 게이트웨이주소, 호스트명, 네트워크 연결 허용 여부를 설정
- NETWORKING=yes|no : 네트워크 사용 유무
- HOSTNAME=호스트명 : 전체 도메인명 지정
- GATEWAY=GWIP 주소 : 게이트웨이 주소
- GATEWAY DEV=디바이스명 : 게이트웨이로 연결된 장비명

---

## /etc/sysconfig/network-scripts/ifcfg-ethX

지정된 네트워크 인터페이스의 네트워크 환경 설정 정보가 저장

- DEVICE=디바이스명 : 네트워크 장치명
- BOOTPROTO=static|dhcp|none
  - static : 고정 IP 주소 환경
  - dhcp : 유동 IP 주소 환경
  - none : IP 주소 지정하지 않음
- BROADCAST=브로드캐스트주소
  - Limited 브로드캐스트 주소 : 255.255.255.255
  - Directed 브로드캐스트 주소 : 호스트 비트가 모두 1
- IPADDR=IP주소 : 할당받은 호스트의 IP 주소
- NETMASK=서브넷 마스크 : 할당받은 서브넷 마스크
- NETWORK=네트워크주소 : 네트워크 주소
- ONBOOT=yes|no : 부팅 시 해당 장비 활성화 유무 결정
- TYPE=네트워크타입 : 장치가 실행하는 네트워크 환경 지정
- ifcfg-ethX에서 X는 0, 1, 2등 이더넷 카드번호가 들어간다
  - /eth/sysconfig/network-scripts/ifcfg-eth0 : 첫 번째 이더넷 카드 설정파일
  - /eth/sysconfig/network-scripts/ifcfg-eth1 : 두 번째 이더넷 카드 설정파일

---

## /etc/resolv.conf

- 기본적으로 사용할 도메인명과 네임서버를 설정
- 네임서버는 여러 개 지정할 수 있고 첫 번째 네임서버가 작동하지 않을 경우 다음 네임서버가 작동
- domain : 도메인명
- nameserver : 네임서버주소

---

## /etc/hosts

- IP 주소와 도메인 주소를 1:1로 등록하여 도메인에 대한 IP주소를 조회하도록 한다
- DNS 질의를 걸치지 않고 직접적으로 IP 주소를 획득
- IP 주소 도메인명 : IP 주소와 도메인명을 일대일로 매핑

---

## /etc/host.conf

DNS 서비스를 제공할 때 먼저 이 파일을 검사하여 파일의 설정에 따라 서비스한다

---

## IP 주소 설정

1. 네트워크 설정 파일로 주소 설정
   - 파일 /etc/sysconfig/network 또는 /etc/sysconfig/network-scripts/ifcfg-ethX로 IP 주소를 할당
2. 명령어를 이용한 주소 설정
   - 명령어 ifconfig를 이용하여 IP 주소를 할당
3. 유틸리티를 이용한 주소 설정
   - netconfig, system-config-network, redhat-config-network 등의 다양한 유틸리티를 이용하여 주소를 할당

---

## 라우팅 테이블 설정 및 관리

- 라우팅이란 송신 패킷이 목적지까지 전송할 수 있도록 경로를 설정하는 작업
- 송신 패킷은 라우팅 테이블에 목적지 경로 정보가 있다면 해당 경로로 패킷을 전송
- 명령어 route은 라우팅 테이블을 설정하거나 확인한다
- 목적지 경로가 라우팅 테이블에 없다면 디폴트 게이트웨이로 트래픽을 전송할 수 있게 라우팅 테이블을 설정할 수 있다

---

## 네트워크 관련 명령어

- TCP/IP 주소 설정 정보 확인 : ifconfig, nslookup
- 네트워크 경로 상태 확인 : ping, traceroute
- 네트워크 연결 상태 확인 : netstat
- 라우팅 테이블 확인 : route
- NIC 상태 확인 : ethtool, mii-tool, arp

---

## ifconfig

네트워크 인터페이스 구성을 위한 설정 또는 확인하는 시스템 관리 유틸리티

---

## ping

특정 호스트 또는 네트워크 장비까지의 통신 가능 여부를 점검하는 ICMP 기반의 명령어

---

## traceroute

- 특정 호스트 또는 네트워크 장비까지의 어떤 통신경로를 걸쳐 패킷이 전달되는지를 확인할 수 있는 명령어
- 목적지까지의 홉 수(게이트웨이 수) 및 통신 장애 구간 확인

---

## route

- 라우팅 테이블을 확인할 수 있다
- 시스템에 설정된 게이트웨이 주소값을 확인할 때 사용
- 라우팅을 확인하거나 변경할 때 사용하는 명령어

---

## nslookup

인터넷 도메인 네임서버에게 특정 호스트에 대한 정보를 질의하는 대화식 명령어

---

## netstat

전송 제어 프로토콜, 라우팅 테이블, 수많은 네트워크 인터페이스, 네트워크 프로토콜 통계 및 네트워크 연결 상태를 확인할 수 있는 명령어

Ex) netstat [옵션]

- -r : 라우팅 테이블 내용 표시
- -e : 랜카드에서 송신한 패킷의 용량 및 종류 확인
- -n : IP 주소 형태로 주소와 포트번호를 표시
- -i : 인터페이스의 정보를 출력
- -s : 각종 프로토콜의 상태를 보여줌
- -c : 1초 단위로 보여줌
- -l : 현재 LISTEN되고 있는 소켓 정보 표시
- -a : 현재 다른 호스트와 연결되어 있거나 대기 중인 모든 포트 번호 표사

---

## mii-tool

네트워크 인터페이스의 속도와 전송모드 등을 확인

---

## ethtool

- 네트워크 인터페이스의 물리적 연결 여부를 확인할 수 있는 명령어
- 유틸리티 mii-tool보다는 상세한 네트워크 인터페이스의 상태 정보를 확인

---

## arp

시스템이 가지고 있는 arp 테이블을 확인하고 추가, 삭제하는 명렁어

Ex) arp [옵션]

- -a : arp 테이블 확인
- -s IP 주소 MAC 주소 : 지정된 IP 주소와 MAC 주소를 테이블에 추가
