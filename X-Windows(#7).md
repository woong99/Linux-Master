# 1. 개념 및 사용법

## 개념 및 특징

리눅스 환경의 각종 애플리케이션과 유틸리티에 대해 그래픽 사용자 인터페이스(GUI)를 제공

플랫폼과 독립적으로 작동

오픈 데스크톱 환경으로 KDE, GNOME, XFCE 등이 있음

---

## X-윈도우의 출현 배경

- Athena(아데나) 프로젝트
  - IBM과 MIT, DEC Athena(아데나) 프로젝트를 통해서 Bob Scheifler와 Jim Gettys가 1984년 처음으로 개발
  - 1986년 Bob Schecifler가 오픈 소스 프로젝트 디자인을 만듦
  - 1987년 오픈 소스 프로젝트 하에 X11 발표
- x컨소시엄
  - 1988년 여러 컴퓨터 제조업체로 구성
  - x11 버전이 처음 개정되어 x11r2에서 x11r6까지 발표
  - x11r6.3을 끝으로 x컨소시엄 해체
- 오픈 그룹
  - 1996년 오픈 소프트웨어 재단과 x/open으로 형성된 그룹
  - x11r6.4 발표
- X.org
  - 1999년 오픈 그룹을 기반으로 2004년에 x.org 재단이 만들어짐
  - 2004년 9월 x11r6.8 발표

---

## X-원도우의 특징

- 네트워크 기반의 그래픽 환경 지원
- 이기종 시스템 사이에서도 사용 가능
- 스크롤바, 아이콘, 색상 등 그래픽 환경 자원들이 특정 형태로 정의되어 있지 않음
- 디스플레이 장치에 의존적이지 않으며 원하는 인터페이스를 만들 수 있음

---

## X-윈도우는 네트워크 프로토콜(X프로토콜) 기반의 클라이언트/서버 시스템

- 서버 프로그램과 클라이언트 프로그램으로 나누어 작동
- 서버는 클라이언트들의 디스플레이에 관한 접근 허용, 클라이언트 간의 자원 공유, 네트워크 메시지 전달, 클라이언트와 입출력 기기와의 중계를 담당
- 클라이언트는 애플리케이션으로 X 서버가 제공하는 기능들을 이용

---

## 구성요소

- XProtocol
  - X 서버와 클라이언트 사이의 메시지 타입, 메시지 교환 방법을 규정
  - 요구, 응답, 오류, 입력 발생으로 구성
    - 서버는 클라이언트에게 요구를 받게 되면 신호를 처리해서 응답, 오류, 입력 발생 등의 신호를 클라이언트에게 전송
  - Xlib라는 저수준 인터페이스와 Xtoolkit이라는 상위 수준 인터페이스 사용
- Xlib
  - C나 Lisp 언어로 만든 XProtocol 지원 클라이언트 라이브러리
    - 윈도우 생성, 이벤트 처리, 창 조회, 키보드 처리와 같은 라이브러리 제공
- XCB
  - Xlib를 대체하기 위해 등장한 클라이언트 라이브러리
    - Xlib보다 향상된 스레드 기능을 지원하고 확장성이 뛰어남
    - 라이브러리 크기가 작고 단순
    - XProtocol에 직접 접근도 가능
- Xtoolkit
  - Xlib로 스크롤바, 메뉴, 버튼 등의 GUI 부품을 개발 시 효율성 문제 발생
  - 고급 레벨의 GUI 생성 시 Xtoolkit 이용
  - Xtoolkit은 Widget과 Xt Intrinsic을 포함
    - Widget : 스크롤바, 메뉴 등 GUI를 구성하는 객체
    - Xt intrinsic : Widget가 Xlib의 기본 함수의 집합
- XFree86
  - 인텔 X86 계열의 유닉스 운영체계에서 동작하는 X 서버
  - 어떤 목적에 사용하든 무료로 사용할 수 있는 X 시스템
- XF86Config
  - XF86Config은 XFree86 설정 파일
    - X 서버는 XF86Config 파일을 찾아 읽음
    - 파일의 위치는 <span style = "color:tomato">/etc/X11</span> 또는 <span style = "color:tomato">/usr/X11R6/lib/X11</span>
    - 폰트, 키보드, 모니터, 마우스, 비디오카드, 색상 설정에 관한 정보를 포함
  - XConfigurator : 텍스트 터미널에서 쓰는 다른 X 환경 설정
  - XF86Config : X를 위한 기본 환경 설정
  - XF86Setup : X를 위한 X-윈도우 환경 설정

---

## /etc/inittab

init 프로세스가 읽는 파일로, init 프로세스가 무엇을 해야 할 것인가를 결정

리눅스 사용 환경을 초기화

- 파일 시스템 점검
- 서비스 프로세스 관리
- 가상 콘솔 관리
- 실행 level을 관리

이름 : 런레벨 : 옵션 : process -옵션

- 런레벨
  - 3 : 텍스트 모드에 의한 다중 사용자 모드(제한 없음)
  - 5 : 그래픽 모드에 의한 다중 사용자 모드

---

## X-윈도우 실행

startx -- [인자값]

명령어 startx는 X-윈도우를 실행하는 스크립트로 시스템 환경을 초기화하고 xinit를 호출

X-윈도우 관련 키 조합

- 터미널 변경 : Ctrl + Alt + F1부터 F4
- X-window 상태 전환 : Ctrl + Alt + F7
- X-window 강제 종료 : Ctrl + Alt + Back Space

---

## 환경 변수 DISPLAY

셸에서 정의

현재 X-윈도우 Display 위치를 지정

export DISPLAY=IP주소:디스플레이번호.스크린번호

---

## 윈도우 매니저

X window상에서 창의 배치와 표현을 담당하는 시스템 프로그램

창 열기와 닫기, 창의 생성 위치, 창 크기 조정, 창의 외양과 테두리 변화

라이브러리는 Xlib와 XCB를 사용

- fvwm
  - twm에서 파생되어 나온 것
  - 안정적이고 일반화되어 오랜 기간 동안 많이 사용
  - Virtual Window Manager의 약자
- twm
  - X-윈도우 시스템의 초창기 창 관리자
  - C로 만들어짐
  - 텍스트 형식의 간단한 윈도우 매니저
  - xlib 사용
  - 크노픽스가 twm을 기본으로 탑재
- AfterStep
  - fvwm을 기반으로 만들어진 윈도우 매니저
  - 넥스트 스텝의 GUI와 유사한 사용자 인터페이스 제공
- Window Maker
  - 오픈스텝 호환 환경으로서의 넥스트 사의 GUI를 가상으로 구형
  - GNU 데스크톱 지원
- Blackbox
  - 넥스트스텝의 인터페이스를 기반으로 하는 윈도우 매니저
- kwm
  - KDE 1.x의 기본 윈도우 매니저
- Enlightment
  - GNOME의 기본 윈도우 매니저

---

## 데스크톱 환경

GUI 사용자에게 제공하는 인터페이스 스타일로 데스크롭 관리자라고도 한다

윈도우 매니저, 파일 관리자, 도움말, 제어판 등 다양한 도구를 제공하는 패키지 형태의 프로그램

아이콘, 창, 도구 모음, 폴더, 배경화면, 데스크톱 위젯도 제공

드래그 앤 드롭과 프로세스 간의 통보 기능 지원

---

## KDE

Kool Desktop Environment의 약자

독일을 중심으로 한 인터내셔널 팀이 개발하는 오픈 소스 데스크톱 환경

파일 매니저, 윈도우 매니저, 헬프 시스템, configuration 시스템과 각종 애플리케이션의 집합체

노키아의 QT 툴 킷을 기반으로 한다

KED가 실행되는 시스템은 UNIX/Linux, Solaris, IRIX, HP-UX, FreeBSD

---

## GNOME

GNU Network Object Model Environment의 약자

GNU에서 만든 공개형 데스크톱이며 소스 공개 자유 소프트웨어

GTK+ 라이브러리를 기반

BSD와 GNU/리눅스에 포함되어 배포

윈도우 관리자를 선택하여 사용

세션 매니저로 이전 설정을 저장하여 항상 해당 환경을 유지

패널 크기 조정 가능, 어디로든 옮기거나 숨길 수 있으며 원하는 만큼 패널을 추가 가능

드래그 앤 드롭 프로토콜 지원

페널, 표준 데스크 툴, 응용 프로그램 외 다른 프로그램들과의 상호 간 협약으로 동작

---

## KDE와 GNOME 사용 툴

|                   |        KDE         |        GNOME         |
| :---------------: | :----------------: | :------------------: |
| 그래픽 라이브러리 |         QT         |         GTK+         |
|   설정 항목 수    | 최대한 많이 보여줌 |  필요한 것만 보여줌  |
| 기본 텍스트에디터 |        kate        |        gedit         |
|   기본 브라우저   |     Konquerer      |         Web          |
|    파일 탐색기    |     Konquerer      |       Nautilus       |
|   윈도우 매니저   |        Kwin        | Mutter 또는 Metacity |

---

## LXDE

Light X11 Desktop Environment의 약자

2006년부터 개발

우분투, Peppermint OS, Raspbian 등의 배포판들에서 기본 데스크톱으로 채택

창 관리자로 Openbox, 툴 킷으로는 GTK 2를 사용

가벼운 데스크톱 환경과 빠른 성능과 에너지 절약을 위해 개발

cpu 성능이 낮고 메모리가 적은 pc와 모바일 디바이스를 위해 디자인

파일 브라우저 PCMANFM은 NAUTILUS, DOLPHIN, THUNAR를 재조합하여 가볍고 빠르다

---

## XFCE

XForums Common Environment의 약자

유닉스 및 유닉스 계열 플랫폼을 위한 자유 소프트웨어 데스크톱 환경

GNOME 2.x과 같이 GTK+ 2 툴 킷을 기반

Xfwm 윈도우 매니저를 사용

적은 시스템 자원 활용

모듈 간의 의존성이 낮으며 하드 디스크의 공간을 적게 차이

---

## 디스플레이 매니저

X window system상에서 작동하는 프로그램

X11R3에서 xdm 디스플레이 매니저 도입

X11R4에서 원격에서 제어가 가능하도록 xdmcp가 도입

로컬 또는 리모트 컴퓨터의 X server의 접속과 세션 시작을 담당

- xdm
  - X Display Manager
  - 초기 X11에 도입된 디스플레이 매니저
  - 그래픽 로그인 화면을 띄우고 세션 관리 해줌
- dtlogin
  - 유닉스 쪽의 데스크톱 환경인 CDE에서는 디스플레이 매니저로 사용
  - AIX, HP-UX, Unixware, 구 버전 Solaris에서 사용하는 데스크톱 매니저
  - Motif 라이브러리를 사용해서 구현
- kdm
  - KDE Display Manager
  - KDE 데스크톱에서 사용되는 디스플레이 매니저
- gdm
  - GNOME의 디스플레이 매니저
  - 그래픽 로그인 프로그램
  - GTK 라이브러리를 사용해 구현
  - xdm 기반으로 개발되지 않고, 완전히 독립적으로 새롭게 작성
  - GNU GPL 기반 라이선스

---

# 2. X-윈도우 활용

## xhost

X 서버에 접속할 수 있는 클라이언트를 지정하거너 해제

X 서버에게 디스플레이를 요청 시 해당 요청에 대해 허용 여부를 호스트 단위로 제어

xhost [+ | -] [IP | 도메인명]

- xhost + : X 서버에 모든 클라이언트 접속을 허용
- xhost - : X 서버에 모든 클라이언트 접속을 금지
- xhost + IP 주소 : 해당 IP 주소를 가진 호스트의 접속 허용
- xhost - IP 주소 : 해당 IP 주소를 가진 호스트의 접속 금지

---

## xauth

.Xauthority 파일의 쿠키 내용을 추가, 삭제, 리스트를 출력하는 유틸리티

MMC 방식의 인증 방식을 사용하기 위한 필수 유틸리티

원격지에서 접속하는 X 클라이언트를 허가할 때 IP 주소나 호스트명이 아닌 X-윈도우 실행 시에 생성되는 키 값으로 인증할 때 사용

$HOME/.Xauthority에 대해 읽기 및 쓰기 권한이 있어야 한다

- .Xauthority 파일에는 응용 프로그램이 실행될 포시장치에 대한 "매직 쿠키"가 있어야 한다
- 매직 쿠키는 MIT-MAGIC-COOKIE-1이라는 쿠키값을 가진다

xauth [옵션]

- 옵션
  - list
    - 현재 사용되는 모든 쿠키값 리스트 확인
    - 지정된 표시장치의 쿠키값 확인
  - list [표시장치명]
    - 지정된 프로토콜 및 키를 지정된 표시장치의 권한 부여
    - 파일에 추가

---

## X-윈도우 응용 프로그램

- 오피스
  - LibreOffice
    - 오피스 프로그램 패키지
      - LibreOffice Writer : 문서 작성기
      - LibreOffice Impress : 프레젠테이션
      - LibreOffice Calc : 스프레드시트
      - LibreOffice Draw : 드로잉 프로그램
  - gedit : 텍스트 편집 프로그램
  - kwrite : KDE 기반의 텍스트 편집기
- 그래픽
  - GIMP : 이미지 편집 프로그램
  - ImageMagick
    - 이미지의 생성 및 편집을 지원하는 프로그램
    - bitmap, gif, jpeg, png 등 다양한 포맷 지원
    - eog : GNOME의 이미지 뷰어 프로그램
    - kolourpaint : Ubuntu 이미지 편집 프로그램
    - gThumb
      - GNOME 데스크톱 이미지 뷰어 프로그램
      - JPEG, GIF, TIF, PNG 등 일반적인 이미지 파일 지원
      - 간단한 이미지 편집
    - gwenview
      - KDE의 기본 이미지 뷰어
      - kio를 이용해 zip, rar 압축 파일도 볼 수 있는 이미지 뷰어
- 멀티미디어
  - Totem : GNOME 기반의 사운드 및 비디오 재생 프로그램
  - RHYTHMBOX : 통합형 음악 관리 프로그램
  - CHEESE : GNOME 기반의 카메라 동영상 프로그램
- 개발
  - Eclipse
    - 통합 개발 환경으로 자바를 비롯한 다양한 언어를 지원
    - OSGi를 도입하여 범용 응용 소프트웨어 플랫폼으로 발전
- 기타
  - Dolphin
    - KDE용 파일 관리자, KDE 버전에서는 컹커러가 웹 브라우저와 파일 관리자의 역할 수행
    - 이동 경로 표시, 파일 미리보기, 실행 취소/재실행 기능 등 수행
  - KSnapshot : 스크린샷 프로그램
